CREATE TABLE t1 (i INT);
SET @a = 2;
CREATE TABLE IF NOT EXISTS t2 (i INT) ENGINE = MyISAM 
AS SELECT * FROM t1;
CREATE TABLE IF NOT EXISTS t2 (i INT) ENGINE = MyISAM 
AS SELECT * FROM t1;
Warnings:
Note	1050	Table 't2' already exists
DROP TABLE t2;
CREATE PROCEDURE sp()
BEGIN
REPEAT 
CREATE TABLE IF NOT EXISTS t2 (i INT) ENGINE = MyISAM 
AS SELECT * FROM t1; 
SET @a = @a - 1; 
UNTIL @a = 0 
END REPEAT ;
END |
CALL sp();
Warnings:
Note	1050	Table 't2' already exists
DROP PROCEDURE sp;
DROP TABLE t1, t2;
#
# MDEV-36979 Same alias name with different case on same table is not working in functions
#
create table t1 ( id int primary key auto_increment, name varchar(10));
insert into t1 (name) values ('wrbyviwb');
insert into t1 (name) values ('wrbyrwb1');
insert into t1 (name) values ('wrbrwb3');
select cnt.name from t1 cnt join ( select CMT.id from t1 CMT where CMT.id=1) t2 on t2.id=cnt.id;
name
wrbyviwb
create function t1test(val int) returns varchar(400) charset utf8
begin
declare output varchar(400) default '';
set output = (select cnt.name from t1 cnt join ( select CMT.id from t1 CMT where CMT.id=val) t2 on t2.id=cnt.id);
return output;
end//
select t1test(1);
t1test(1)
wrbyviwb
drop function t1test;
drop table t1;
# End of 10.11 tests
